@using Hospital.Web.Models
@{
    ViewData["Title"] = "Patients";
}
@model PatientViewModel;

<h2>Patients</h2>
<!-- Button trigger modal -->
<button type="button" class="btn btn-primary" onClick="OpenNewModal()">
    Create Patient
</button>
<!-- Modal -->
@Html.Partial("_PatientModal")

@section scripts {
    <script>
        $(function () {
            //Date picker
            $('#reservationdate').datetimepicker({
                format: 'L'
            });
        })

        function OpenNewModal() {
            $('#patientModal').modal('show')
        }

        function SaveChanges() {
            $.ajax({
                url: '/Patient/Create',
                type: 'POST',
                data: {
                    chartNumber: 'BN01',
                    firstName: 'Hao',
                    lastName: 'Tran',
                    gender: 'male',
                    dob: '01-01-2000',
                    phone: '',
                    email: '',
                    address: '',
                    wardCode: '',
                    districtCode: '',
                    provinceCode: '',
                    zipCode: ''
                },
                success: function (response) {
                    console.log(response)
                },
                error: function (xhr, status, error) {
                    console.log(status)
                }
            });
        }
    </script>
}
